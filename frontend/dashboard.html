<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-4">

  <!-- HEADER -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>User Dashboard</h3>

    <div>
      <!-- ADMIN BUTTON (HIDDEN FOR NORMAL USERS) -->
      <button id="adminBtn" class="btn btn-warning me-2 d-none"
        onclick="goToAdmin()">
        Go to Admin Panel
      </button>

      <button class="btn btn-danger" onclick="logout()">Logout</button>
    </div>
  </div>

  <!-- CREATE TASK -->
  <div class="card p-3 mb-4">
    <h5>Create Task</h5>

    <input class="form-control mb-2" id="title" placeholder="Task title">

    <textarea class="form-control mb-2"
      id="description"
      placeholder="Task description"></textarea>

    <select class="form-control mb-2" id="priority">
      <option value="LOW">LOW</option>
      <option value="MEDIUM" selected>MEDIUM</option>
      <option value="HIGH">HIGH</option>
    </select>

    <button class="btn btn-primary" onclick="addTask()">Add Task</button>
  </div>

  <!-- TASK LIST -->
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Priority</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="taskTable"></tbody>
  </table>

</div>

<!-- EDIT MODAL -->
<div class="modal fade" id="editModal">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <h5>Edit Task</h5>

      <input class="form-control mb-2" id="editTitle">
      <textarea class="form-control mb-2" id="editDesc"></textarea>

      <select class="form-control mb-2" id="editStatus">
        <option value="TODO">TODO</option>
        <option value="IN_PROGRESS">IN_PROGRESS</option>
        <option value="COMPLETED">COMPLETED</option>
      </select>

      <select class="form-control mb-3" id="editPriority">
        <option value="LOW">LOW</option>
        <option value="MEDIUM">MEDIUM</option>
        <option value="HIGH">HIGH</option>
      </select>

      <div class="text-end">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-success" onclick="updateTask()">Update</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/auth.js"></script>
<script src="js/dashboard.js"></script>

</body>
</html>
